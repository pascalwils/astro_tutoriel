---
import BaseLayout from "./base_layout.astro";
const { frontmatter } = Astro.props;
---

<BaseLayout pageTitle={frontmatter.title}>
    <p id="publicationLine"></p>
    <img src={frontmatter.image.url} width="300" alt={frontmatter.image.alt} />
    <slot />
</BaseLayout>

<script define:vars={{ frontmatter }}>
    pubDate = new Date(frontmatter.pubDate);
    dateStr = pubDate.toLocaleDateString(navigator.languages[0], {
        weekday: "short",
        year: "numeric",
        month: "short",
        day: "numeric",
    });
    content = "Écrit par " + frontmatter.author;
    content += " - publié le : " + dateStr;
    document.getElementById("publicationLine").textContent = content;
</script>
